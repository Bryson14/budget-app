(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{6944:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(2595)}])},9147:function(e,t,n){"use strict";n.d(t,{H$:function(){return s}});n(4051),n(1674);var r=["Transactions","Categories","Information"],l=n(1674);function s(e,t){console.log("Validating baseid and api key");var n={passed:!0,apikey:!0,baseid:!0,trans_tbl:!0,ctgy_tbl:!0,info_tbl:!0},s=new l({apiKey:t}).base(e);return r.forEach((function(e){s(e).select({maxRecords:1,view:"Grid view"}).eachPage((function(e,t){e.forEach((function(e){})),t()}),(function(t){t&&(n.passed=!1,-1!==t.message.indexOf("api key")?n.apikey=!1:-1!==t.message.indexOf("Could not find what you are looking for")?n.baseid=!1:-1!==t.message.indexOf("Could not find table")&&e==r[0]?n.trans_tbl=!1:-1!==t.message.indexOf("Could not find table")&&e==r[1]?n.ctgy_tbl=!1:-1!==t.message.indexOf("Could not find table")&&e==r[2]&&(n.info_tbl=!1))}))})),console.log(n),n}},2595:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(5893),l=n(1664),s=n(9008),i=n(9147),a=n(7294),d="apikey",c="baseid";function o(e){var t=e.props,n=(0,a.useState)(""),o=n[0],h=n[1],x=(0,a.useState)(""),g=x[0],f=x[1];return(0,a.useEffect)((function(){null!==localStorage.getItem(d)&&h(localStorage.getItem(d)),null!==localStorage.getItem(c)&&f(localStorage.getItem(c))}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.default,{children:(0,r.jsx)("title",{children:"Settings"})}),(0,r.jsxs)("div",{id:"parent-settings",className:"center-items",children:[(0,r.jsxs)("p",{children:["My props:",t]}),(0,r.jsx)("h1",{children:"Settings"}),(0,r.jsx)(l.default,{href:"/",children:(0,r.jsx)("a",{children:"Back to Home"})}),(0,r.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Base ID"}),(0,r.jsx)("input",{type:"text",placeholder:"BaseID",id:"baseid-input",value:g,onChange:function(e){return f(e.target.value)}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"API Key"}),(0,r.jsx)("input",{type:"password",placeholder:"API Key",id:"apikey-input",value:o,onChange:function(e){return h(e.target.value)}})]}),(0,r.jsx)("button",{onClick:function(){return function(e,t){console.log("trying with ".concat(e," and ").concat(t));var n=(0,i.H$)(e,t);if(!0===n.passed){return localStorage.setItem(d,t),localStorage.setItem(c,e),u(),void(document.getElementById("apikey-input").value="super-secret-key")}alert("Incorrect Credentials",n)}(g,o)},children:"Update BaseId and Api Key"})]}),(0,r.jsx)("p",{children:"Something showing up right? Try making sure your database is set up correcly!"}),(0,r.jsx)("button",{onClick:u,children:"Test Database"}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Test"}),(0,r.jsx)("th",{children:"Result"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Overall"}),(0,r.jsx)("td",{id:"overall-result",children:" - "})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Correct Api Key"}),(0,r.jsx)("td",{id:"api-key-table-result",children:" - "})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Correct Base Id"}),(0,r.jsx)("td",{id:"baseid-result",children:" - "})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Transaction Table"}),(0,r.jsx)("td",{id:"trans-table-result",children:" - "})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Category Table"}),(0,r.jsx)("td",{id:"ctgry-table-result",children:" - "})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Information table Key"}),(0,r.jsx)("td",{id:"info-table-result",children:" - "})]})]})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("h2",{children:"Database Settings"}),(0,r.jsx)("p",{children:"Need to make a clean, new database? Click Here!"}),(0,r.jsx)("button",{children:"New Database"})]})]})}function u(){var e=localStorage.getItem(c),t=localStorage.getItem(d),n={};null!==t&&null!==t&&(n=(0,i.H$)(e,t));var r="Passed",l="Failed";n.passed?document.getElementById("overall-result").innerText=r:document.getElementById("overall-result").innerText=l,n.baseid?document.getElementById("baseid-result").innerText=r:document.getElementById("baseid-result").innerText=l,n.apikey?document.getElementById("api-key-table-result").innerText=r:document.getElementById("api-key-table-result").innerText=l,n.trans_tbl?document.getElementById("trans-table-result").innerText=r:document.getElementById("trans-table-result").innerText=l,n.ctgy_tbl?document.getElementById("ctgry-table-result").innerText=r:document.getElementById("ctgry-table-result").innerText=l,n.info_tbl?document.getElementById("info-table-result").innerText=r:document.getElementById("info-table-result").innerText=l}},356:function(){},9065:function(){}},function(e){e.O(0,[86,774,888,179],(function(){return t=6944,e(e.s=t);var t}));var t=e.O();_N_E=t}]);