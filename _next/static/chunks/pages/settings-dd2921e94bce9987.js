(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{6944:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(2595)}])},9147:function(e,t,n){"use strict";n.d(t,{H$:function(){return a}});n(4051),n(1674);var l=["Transactions","Categories","Information"],s=n(1674);function a(e,t){console.log("Validating baseid and api key");var n={passed:!0,apikey:!0,baseid:!0,trans_tbl:!0,ctgy_tbl:!0,info_tbl:!0},a=new s({apiKey:t}).base(e);return l.forEach((function(e){a(e).select({maxRecords:1,view:"Grid view"}).eachPage((function(e,t){e.forEach((function(e){})),t()}),(function(t){t&&(n.passed=!1,-1!==t.message.indexOf("api key")?n.apikey=!1:-1!==t.message.indexOf("Could not find what you are looking for")?n.baseid=!1:-1!==t.message.indexOf("Could not find table")&&e==l[0]?n.trans_tbl=!1:-1!==t.message.indexOf("Could not find table")&&e==l[1]?n.ctgy_tbl=!1:-1!==t.message.indexOf("Could not find table")&&e==l[2]&&(n.info_tbl=!1))}))})),console.log(n),n}},2595:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var l=n(5893),s=n(1664),a=n(9008),r=n(5675),i=n(9147),d=n(7294),o="apikey",c="baseid";function u(e){e.props;var t=(0,d.useState)(""),n=t[0],u=t[1],x=(0,d.useState)(""),m=x[0],h=x[1];return(0,d.useEffect)((function(){null!==localStorage.getItem(o)&&u(localStorage.getItem(o)),null!==localStorage.getItem(c)&&h(localStorage.getItem(c))}),[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{children:(0,l.jsx)("title",{children:"Settings"})}),(0,l.jsxs)("div",{className:"min-h-max grow bg-gray-50 py-6 flex flex-col justify-center relative sm:py-12",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-center "}),(0,l.jsxs)("div",{className:"relative px-6 pt-10 pb-8 bg-white shadow-xl ring-1 ring-gray-900/5 sm:max-w-lg sm:mx-auto sm:rounded-lg sm:px-10",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("h1",{className:"text-xl font-semibold",children:"Settings"}),(0,l.jsx)(s.default,{href:"/",children:(0,l.jsx)("a",{className:"",children:(0,l.jsx)(r.default,{src:"/images/cottage_black_24dp.svg",alt:"home",width:40,height:40})})})]}),(0,l.jsx)("form",{onSubmit:function(e){return e.preventDefault()},className:"px-8 pt-6 pb-8 mb-4",children:(0,l.jsxs)("div",{className:"justify-around",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"baseid",children:"Base ID"}),(0,l.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"bsaeid",type:"text",placeholder:"Base ID",value:m,onChange:function(e){return h(e.target.value)}})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"apikey",children:"API Key"}),(0,l.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"apikey",type:"password",placeholder:"API Key",value:n,onChange:function(e){return u(e.target.value)}})]}),(0,l.jsx)("button",{className:"bg-emerald-400 hover:bg-gradient-to-l from-indigo-500 via-purple-500 to-pink-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:function(){return function(e,t){console.log("trying with ".concat(e," and ").concat(t));var n=(0,i.H$)(e,t);if(!0===n.passed)return localStorage.setItem(o,t),localStorage.setItem(c,e),void g();alert("Incorrect Credentials",n)}(m,n)},children:"Update BaseId and Api Key"})]})}),(0,l.jsx)("p",{children:"Something showing up right? Try making sure your database is set up correcly!"}),(0,l.jsx)("button",{onClick:g,children:"Test Database"}),(0,l.jsxs)("table",{className:"table-auto ",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Test"}),(0,l.jsx)("th",{children:"Result"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Overall"}),(0,l.jsx)("td",{id:"overall-result",children:" - "})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Correct Api Key"}),(0,l.jsx)("td",{id:"api-key-table-result",children:" - "})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Correct Base Id"}),(0,l.jsx)("td",{id:"baseid-result",children:" - "})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Transaction Table"}),(0,l.jsx)("td",{id:"trans-table-result",children:" - "})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Category Table"}),(0,l.jsx)("td",{id:"ctgry-table-result",children:" - "})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Information table Key"}),(0,l.jsx)("td",{id:"info-table-result",children:" - "})]})]})]})]})]})]})}function g(){var e=localStorage.getItem(c),t=localStorage.getItem(o),n={};null!==t&&null!==t&&(n=(0,i.H$)(e,t));var l="Passed",s="Failed";n.passed?document.getElementById("overall-result").innerText=l:document.getElementById("overall-result").innerText=s,n.baseid?document.getElementById("baseid-result").innerText=l:document.getElementById("baseid-result").innerText=s,n.apikey?document.getElementById("api-key-table-result").innerText=l:document.getElementById("api-key-table-result").innerText=s,n.trans_tbl?document.getElementById("trans-table-result").innerText=l:document.getElementById("trans-table-result").innerText=s,n.ctgy_tbl?document.getElementById("ctgry-table-result").innerText=l:document.getElementById("ctgry-table-result").innerText=s,n.info_tbl?document.getElementById("info-table-result").innerText=l:document.getElementById("info-table-result").innerText=s}},356:function(){},9065:function(){}},function(e){e.O(0,[86,675,774,888,179],(function(){return t=6944,e(e.s=t);var t}));var t=e.O();_N_E=t}]);